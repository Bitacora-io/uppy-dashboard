{"version":3,"sources":["index.js"],"names":["require","h","copyToClipboard","EditButton","file","uploadInProgressOrComplete","metaFields","canEditFile","i18n","onClick","length","meta","name","RemoveButton","copyLinkToClipboard","event","props","uploadURL","then","uppy","log","info","target","focus","preventScroll","CopyLinkButton","module","exports","Buttons","showLinkToFileUploadResult","showRemoveButton","toggleFileCard","openFileEditor","editAction","id","removeFile"],"mappings":"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","sourcesContent":["const { h } = require('preact')\nconst copyToClipboard = require('../../../utils/copyToClipboard')\n\nfunction EditButton ({\n  file,\n  uploadInProgressOrComplete,\n  metaFields,\n  canEditFile,\n  i18n,\n  onClick,\n}) {\n  if (\n    (!uploadInProgressOrComplete && metaFields && metaFields.length > 0)\n    || (!uploadInProgressOrComplete && canEditFile(file))\n  ) {\n    return (\n      <button\n        className=\"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\"\n        type=\"button\"\n        aria-label={i18n('editFileWithFilename', { file: file.meta.name })}\n        title={i18n('editFileWithFilename', { file: file.meta.name })}\n        onClick={() => onClick()}\n      >\n        <i className=\"uppy-c-icon fas fa-edit m-r-xs\" />\n\n        { i18n('editFile') }\n      </button>\n    )\n  }\n  return null\n}\n\nfunction RemoveButton ({ i18n, onClick, file }) {\n  return (\n    <button\n      className=\"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\"\n      type=\"button\"\n      aria-label={i18n('removeFile', { file: file.meta.name })}\n      title={i18n('removeFile', { file: file.meta.name })}\n      onClick={() => onClick()}\n    >\n      <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n        <path d=\"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\" />\n        <path fill=\"#FFF\" d=\"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\" />\n      </svg>\n    </button>\n  )\n}\n\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback'))\n    .then(() => {\n      props.uppy.log('Link copied to clipboard.')\n      props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000)\n    })\n    .catch(props.uppy.log)\n    // avoid losing focus\n    .then(() => event.target.focus({ preventScroll: true }))\n}\n\nfunction CopyLinkButton (props) {\n  const { i18n } = props\n\n  return (\n    <button\n      className=\"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\"\n      type=\"button\"\n      aria-label={i18n('copyLink')}\n      title={i18n('copyLink')}\n      onClick={(event) => copyLinkToClipboard(event, props)}\n    >\n      <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" width=\"14\" height=\"14\" viewBox=\"0 0 14 12\">\n        <path d=\"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\" />\n      </svg>\n    </button>\n  )\n}\n\nmodule.exports = function Buttons (props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor,\n  } = props\n\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id)\n    } else {\n      openFileEditor(file)\n    }\n  }\n\n  return (\n    <div className=\"uppy-Dashboard-Item-actionWrapper\">\n      <EditButton\n        i18n={i18n}\n        file={file}\n        uploadInProgressOrComplete={uploadInProgressOrComplete}\n        canEditFile={canEditFile}\n        metaFields={metaFields}\n        onClick={editAction}\n      />\n      {showLinkToFileUploadResult && file.uploadURL ? (\n        <CopyLinkButton\n          file={file}\n          uppy={uppy}\n          i18n={i18n}\n        />\n      ) : null}\n      {showRemoveButton ? (\n        <RemoveButton\n          i18n={i18n}\n          file={file}\n          uppy={uppy}\n          onClick={() => props.uppy.removeFile(file.id, 'removed-by-user')}\n        />\n      ) : null}\n    </div>\n  )\n}\n"]}